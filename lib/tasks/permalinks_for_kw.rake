permalink_mappings = [
  {
    key: "33b01e120787443d750407754e50fd90",
    original_search_request: "sr[q,title]=Prüfungsordnung&sr[q,any]=Zwei-Fach%20NOT%20Fachspezifische%2A%20&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach%20NOT%20Fachspezifische%2A%20NOT%20Besondere%2A&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "5f74e35f3cdedf19c36bc79fca92d907",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Deutschsprachige%20Literaturen&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Deutschsprachige%20Literaturen&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "a30f7490bb85d72a182a59b3c5248fc9",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Englische%20Sprachwissenschaft&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Englische%20Sprachwissenschaft&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "fb57ba1fdf5decddbb9938403b55d37f",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Englischsprachige%20Literatur%20und%20Kultur&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Englischsprachige%20Literatur%20und%20Kultur&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "1804d7d0fd1aff0c35fc270ca47a1395",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Erziehungswissenschaft&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Erziehungswissenschaft&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "8c030a2312be6ee2c39321166d5afa86",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Germanistische%20Sprachwissenschaft&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Germanistische%20Sprachwissenschaft&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "afab1e51fecdcfea02d49fee538556c8",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Geschichte&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Geschichte&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "fd51716f039c31d4064f3fe04c761b84",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Komparatistik&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Komparatistik%2FVergleichende%20Literatur-%20und%20Kulturwissenschaft&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "ea031d43eff1dd9d74924510cfc141cf",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Komparative%20Theologie%20der%20Religionen&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Komparative%20Theologie%20der%20Religionen&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "d138e66c418768e9724cefbbe575ae70",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Kunst%20und%20Kunstvermittlung&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Kunst%20und%20Kunstvermittlung&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "4b94ac55b54b329a6427a5b3d7626948",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Management&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Management&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "01ec40d5a68bbfa73f06aba674cfb894",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Medienwissenschaften&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Medienwissenschaften&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "5cae0edc62f747123684b46ff125fd71",
    original_search_request: "sr[q,title]=amtliche%20mitteilung%2A&sr[q,any]=mode%2A&sr[q,any]=fachspe%2A&sr[q,any]=zwei-fach%2A&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Mode%2A&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "58f9566a3fd2e2aafd0b83db806d6104",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Musikwissenschaft&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Musikwissenschaft&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "01826d978ca569abcf0b6de5867f4fff",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Philosophie&sr[q,any]=Zwei-Fach&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Philosophie&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "459ead76643de42c746815c59db30379",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Romanistik%20&sr[q,any]=Zwei-Fach&sr[q,any]=Französisch&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Französisch&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  },
  {
    key: "7afd0e279d324204c4dcbed9a5ed9551",
    original_search_request: "sr[q,title]=Fachspezifisch%2A&sr[q,title]=Romanistik%20&sr[q,any]=Zwei-Fach&sr[q,any]=Spanisch&sr[a,material_type]=online_resource&sr[s,desc]=yop",
    new_search_request: "sr[q,title]=Prüfungsordnung&sr[q,title]=Zwei-Fach-Bachelor%2A&sr[q,title]=Spanisch&sr[a,material_type]=online_resource&sr[s,desc]=volume"
  }
]

namespace :application do
  desc "Update permalinks for KW"
  task update_permalinks_for_kw: :environment do
    Permalink.transaction do
      permalink_mappings.each do |permalink_mapping|
        permalink = Permalink.find_by(key: permalink_mapping[:key])
        permalink.update!(search_request: permalink_mapping[:new_search_request])
      end
    end
  end

  desc "Restore original permalinks for KW"
  task restore_permalinks_for_kw: :environment do
    Permalink.transaction do
      permalink_mappings.each do |permalink_mapping|
        permalink = Permalink.find_by(key: permalink_mapping[:key])
        permalink.update!(search_request: permalink_mapping[:original_search_request])
      end
    end
  end
end
